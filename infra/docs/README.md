# Nexora åŸºç¡€è®¾æ–½æ–‡æ¡£å¯¼èˆª

æœ¬æ–‡æ¡£ç›®å½•åŒ…å« Nexora å¹³å°åŸºç¡€è®¾æ–½éƒ¨ç½²çš„æ‰€æœ‰æ–‡æ¡£ã€‚

## æ–‡æ¡£ç´¢å¼•

### å¿«é€Ÿå¼€å§‹
- [éƒ¨ç½²æŒ‡å—](deployment.md) - ä»é›¶å¼€å§‹çš„å®Œæ•´éƒ¨ç½²æ•™ç¨‹

### è¯¦ç»†æ–‡æ¡£
- [æ¶æ„è¯´æ˜](architecture.md) - ç³»ç»Ÿæ¶æ„ã€ç»„ä»¶è¯´æ˜å’Œé…ç½®è¯¦è§£
- [ç«¯å£æ˜ å°„](ports.md) - å®Œæ•´çš„ç«¯å£æ˜ å°„æ¸…å•

## ç›®å½•ç»“æ„

```
infra/
â”œâ”€â”€ README.md                   # é¡¹ç›®æ€»è§ˆ
â”œâ”€â”€ docker-compose.yml          # Docker Compose é…ç½®
â”‚
â”œâ”€â”€ docs/                       # ğŸ“š æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ README.md              # æœ¬æ–‡ä»¶ - æ–‡æ¡£å¯¼èˆª
â”‚   â”œâ”€â”€ deployment.md          # éƒ¨ç½²æŒ‡å—
â”‚   â”œâ”€â”€ architecture.md        # æ¶æ„è¯´æ˜
â”‚   â””â”€â”€ ports.md               # ç«¯å£æ˜ å°„
â”‚
â”œâ”€â”€ config/                     # âš™ï¸  é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ docker/                # Docker ç›¸å…³é…ç½®
â”‚   â”‚   â”œâ”€â”€ mysql/             # MySQL åˆå§‹åŒ–è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ redis/             # Redis é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ nacos/             # Nacos æ—¥å¿—ç›®å½•
â”‚   â”‚   â”œâ”€â”€ seata/             # Seata é…ç½®æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ zookeeper/         # ZooKeeper é…ç½®
â”‚   â””â”€â”€ k8s/                   # Kubernetes é…ç½®
â”‚       â”œâ”€â”€ base/              # åŸºç¡€èµ„æºé…ç½®
â”‚       â””â”€â”€ components/        # å„ç»„ä»¶éƒ¨ç½²é…ç½®
â”‚
â”œâ”€â”€ scripts/                    # ğŸ”§ è„šæœ¬ç›®å½•
â”‚   â”œâ”€â”€ docker/                # Docker æ“ä½œè„šæœ¬
â”‚   â”‚   â”œâ”€â”€ start.sh          # å¯åŠ¨æ‰€æœ‰æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ stop.sh           # åœæ­¢æ‰€æœ‰æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ status.sh         # æŸ¥çœ‹æœåŠ¡çŠ¶æ€
â”‚   â”‚   â””â”€â”€ backup.sh         # æ•°æ®å¤‡ä»½
â”‚   â”œâ”€â”€ k8s/                   # Kubernetes æ“ä½œè„šæœ¬
â”‚   â”‚   â”œâ”€â”€ deploy.sh         # éƒ¨ç½²åˆ° K8s
â”‚   â”‚   â””â”€â”€ delete.sh         # ä» K8s åˆ é™¤
â”‚   â””â”€â”€ tools/                 # å·¥å…·è„šæœ¬
â”‚       â””â”€â”€ health-check.sh   # å¥åº·æ£€æŸ¥
â”‚
â”œâ”€â”€ backups/                    # ğŸ’¾ å¤‡ä»½ç›®å½•
â””â”€â”€ logs/                       # ğŸ“‹ æ—¥å¿—ç›®å½•
```

## å¿«é€Ÿé“¾æ¥

### Docker Compose éƒ¨ç½²
- ğŸš€ [ä¸€é”®å¯åŠ¨](../scripts/docker/start.sh): `./scripts/docker/start.sh`
- ğŸ›‘ [ä¸€é”®åœæ­¢](../scripts/docker/stop.sh): `./scripts/docker/stop.sh`
- ğŸ“Š [æŸ¥çœ‹çŠ¶æ€](../scripts/docker/status.sh): `./scripts/docker/status.sh`

### Kubernetes éƒ¨ç½²
- ğŸš€ [ä¸€é”®éƒ¨ç½²](../scripts/k8s/deploy.sh): `./scripts/k8s/deploy.sh`

## æ”¯æŒçš„æœåŠ¡

| æœåŠ¡ | å¤–éƒ¨ç«¯å£ | å†…éƒ¨ç«¯å£ | è¯´æ˜ |
|------|----------|----------|------|
| MySQL | 30001 | 3306 | ä¸»æ•°æ®åº“ |
| Redis | 30002 | 6379 | ç¼“å­˜ |
| Elasticsearch | 30003 | 9200 | æœç´¢å¼•æ“ |
| Kibana | 30005 | 5601 | ESå¯è§†åŒ– |
| Nacos | 30006 | 8848 | æœåŠ¡æ³¨å†Œä¸­å¿ƒ |
| Kafka | 30009 | 9092 | æ¶ˆæ¯é˜Ÿåˆ— |
| Kafka UI | 30010 | 8080 | Kafkaç®¡ç†ç•Œé¢ |
| Tempo | 30014 | 3200 | é“¾è·¯è¿½è¸ª |
| Grafana | 30018 | 3000 | ç›‘æ§é¢æ¿ |

è¯¦ç»†ç«¯å£æ˜ å°„è¯·æŸ¥çœ‹ [ç«¯å£æ˜ å°„æ–‡æ¡£](ports.md)ã€‚

## ç³»ç»Ÿè¦æ±‚

### Docker Compose éƒ¨ç½²
- æ“ä½œç³»ç»Ÿ: Ubuntu 20.04+ / Debian 11+
- å†…å­˜: 16GB RAM
- ç£ç›˜: 50GB+ å¯ç”¨ç©ºé—´
- CPU: 4æ ¸å¿ƒ+

### Kubernetes éƒ¨ç½²
- Kubernetes ç‰ˆæœ¬: 1.20+
- èŠ‚ç‚¹é…ç½®: æ ¹æ®ç»„ä»¶éœ€æ±‚é…ç½®

## å¸¸è§é—®é¢˜

### Q: å¦‚ä½•ä¿®æ”¹ç«¯å£ï¼Ÿ
A: ç¼–è¾‘ `docker-compose.yml` æ–‡ä»¶ä¸­çš„ `ports` é…ç½®ã€‚

### Q: å¦‚ä½•ä¿®æ”¹å¯†ç ï¼Ÿ
A: ç¼–è¾‘ `docker-compose.yml` æ–‡ä»¶ä¸­çš„ç¯å¢ƒå˜é‡ `*_PASSWORD`ã€‚

### Q: å¦‚ä½•æŸ¥çœ‹æ—¥å¿—ï¼Ÿ
A: è¿è¡Œ `docker-compose logs -f [service-name]` æˆ–ä½¿ç”¨ `./scripts/docker/status.sh`ã€‚

### Q: å¦‚ä½•å¤‡ä»½æ•°æ®ï¼Ÿ
A: è¿è¡Œ `./scripts/docker/backup.sh`ã€‚

## æ›´æ–°æ—¥å¿—

- **2025-01-27**: 
  - é‡æ–°ç»„ç»‡ç›®å½•ç»“æ„
  - æ›´æ–°ç«¯å£æ˜ å°„ä¸º 30000~31000 èŒƒå›´
  - ä¼˜åŒ– 16GB å†…å­˜é…ç½®
  - æ·»åŠ å®Œæ•´æ–‡æ¡£ä½“ç³»
