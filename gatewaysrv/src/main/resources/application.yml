# Bootstrap 配置 - 不可变的基础设施配置
# 业务配置（路由、限流、监控等）请放在 Nacos

server:
  port: 40004
  shutdown: graceful

management:
  server:
    port: 40005
  endpoints:
    web:
      base-path: /actuator
      exposure:
        include: 'health,info,prometheus,circuitbreakers,ratelimiters'

spring:
  application:
    name: gatewaysrv
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}
  config:
    import: optional:nacos:${spring.application.name}-${spring.profiles.active}.yml
  cloud:
    nacos:
      server-addr: ${NACOS_HOST:nexora-nacos}:${NACOS_PORT:8848}
      config:
        enabled: ${NACOS_CONFIG_ENABLED:true}
        refresh-enabled: true
        username: ${NACOS_USERNAME:}
        password: ${NACOS_PASSWORD:}
        namespace: ${spring.profiles.active}
        context-path: /
      discovery:
        enabled: ${NACOS_DISCOVERY_ENABLED:true}
        register-enabled: true
        username: ${NACOS_USERNAME:}
        password: ${NACOS_PASSWORD:}
        namespace: ${spring.profiles.active}
        context-path: /
